



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="vulnerability-assessment-tool Documentation">
      
      
        <link rel="canonical" href="https://sap.github.io/vulnerability-assessment-tool/user/manuals/analysis/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/vulas.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Analysis - vulnerability-assessment-tool 3.0.17</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
    <!-- Suppress Material fonts -->

    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/faq.css">
    
      <link rel="stylesheet" href="../../../css/override.css">
    
      <link rel="stylesheet" href="../../../css/scrollTop.css">
    
    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.1.1/dist/css/lightgallery.min.css" integrity="sha256-oPZ2OUkKul2aJQeDwKoO1p+DpvFR+w17n7YXydvFRWU=" crossorigin="anonymous">

    <script async defer src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.1.1/dist/js/lightgallery.min.js" integrity="sha256-UJv7RCncYk0JrZPTdF4z/n9/16gyZM9HLjdw8pfyax0=" crossorigin="anonymous"></script>

  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#analysis-manual" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
    <script>
        var page_base_name = window.location.pathname
        page_base_name_split = page_base_name.split('/').filter(function(token) { return token != ''})
        document.querySelector('body').classList.add(...page_base_name_split)
    </script>
    <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sap.github.io/vulnerability-assessment-tool/" title="vulnerability-assessment-tool 3.0.17" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                vulnerability-assessment-tool 3.0.17
              </span>
              <span class="md-header-nav__topic">
                Analysis
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/sap/vulnerability-assessment-tool/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      sap/vulnerability-assessment-tool
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>

    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../.." title="Home" class="md-tabs__link">
          Home
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../" title="Docs" class="md-tabs__link md-tabs__link--active">
          Docs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../admin/" title="DevOps" class="md-tabs__link">
          DevOps
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../contributor/" title="Contribute" class="md-tabs__link">
          Contribute
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../vuln_db/" title="Vulnerability database" class="md-tabs__link">
          Vulnerability database
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="https://blogs.sap.com/tag/vulas/" title="Blog" class="md-tabs__link">
          Blog
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sap.github.io/vulnerability-assessment-tool/" title="vulnerability-assessment-tool 3.0.17" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    vulnerability-assessment-tool 3.0.17
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/sap/vulnerability-assessment-tool/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      sap/vulnerability-assessment-tool
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Home
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Home
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Docs" class="md-nav__link">
      Docs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/workspace_howto/" title="Workspace" class="md-nav__link">
      Workspace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/workspace_howto_advanced/" title="Workspaces (advanced)" class="md-nav__link">
      Workspaces (advanced)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/java_maven/" title="Scanning Java (Maven)" class="md-nav__link">
      Scanning Java (Maven)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/java_gradle/" title="Scanning Java (Gradle)" class="md-nav__link">
      Scanning Java (Gradle)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/java_cli/" title="Scanning Java (CLI)" class="md-nav__link">
      Scanning Java (CLI)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/java_maven_advanced/" title="Reachability analysis (Java/Maven)" class="md-nav__link">
      Reachability analysis (Java/Maven)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/python_cli/" title="Scanning Python (CLI)" class="md-nav__link">
      Scanning Python (CLI)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/jenkins_howto/" title="Jenkins automation" class="md-nav__link">
      Jenkins automation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/reports/" title="Understanding reports" class="md-nav__link">
      Understanding reports
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../setup/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Analysis
      </label>
    
    <a href="./" title="Analysis" class="md-nav__link md-nav__link--active">
      Analysis
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bill-of-material-analysis-app" title="Bill of material analysis (app)" class="md-nav__link">
    Bill of material analysis (app)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reachable-from-app-a2c" title="Reachable from app (a2c)" class="md-nav__link">
    Reachable from app (a2c)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-instrumentation-junit" title="Dynamic instrumentation (JUnit)" class="md-nav__link">
    Dynamic instrumentation (JUnit)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-instrumentation-jvm" title="Dynamic instrumentation (JVM)" class="md-nav__link">
    Dynamic instrumentation (JVM)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-instrumentation-instr" title="Static instrumentation (instr)" class="md-nav__link">
    Static instrumentation (instr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reachable-from-traces-t2c" title="Reachable from traces (t2c)" class="md-nav__link">
    Reachable from traces (t2c)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-analysis-files-upload" title="Upload analysis files (upload)" class="md-nav__link">
    Upload analysis files (upload)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-result-report-report" title="Create result report (report)" class="md-nav__link">
    Create result report (report)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-and-delete-apps-clean" title="Clean and delete apps (clean)" class="md-nav__link">
    Clean and delete apps (clean)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-workspaces-cleanspace" title="Clean workspaces (cleanspace)" class="md-nav__link">
    Clean workspaces (cleanspace)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../frontend/" title="Frontend" class="md-nav__link">
      Frontend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../report/" title="Report" class="md-nav__link">
      Report
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assess_and_mitigate/" title="Assessment and Mitigation" class="md-nav__link">
      Assessment and Mitigation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../support/" title="Getting help" class="md-nav__link">
      Getting help
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../support/faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      DevOps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        DevOps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin/" title="DevOps" class="md-nav__link">
      DevOps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin/tutorials/docker/" title="Deploy on Docker" class="md-nav__link">
      Deploy on Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../admin/tutorials/registry/" title="Push Docker images to a registry" class="md-nav__link">
      Push Docker images to a registry
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Contribute
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Contribute
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../contributor/" title="Contribute" class="md-nav__link">
      Contribute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../contributor/tutorials/project_structure/" title="Project structure" class="md-nav__link">
      Project structure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Vulnerability database
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Vulnerability database
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../vuln_db/" title="Vulnerability database" class="md-nav__link">
      Vulnerability database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../vuln_db/tutorials/vuln_db_tutorial/" title="Tutorial" class="md-nav__link">
      Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../vuln_db/manuals/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../vuln_db/manuals/patch_analyzer/" title="Patch Analyzer" class="md-nav__link">
      Patch Analyzer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../vuln_db/manuals/patch_lib_analyzer/" title="Patch Lib Analyzer" class="md-nav__link">
      Patch Lib Analyzer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../vuln_db/manuals/manual_assessment/" title="Manual Assessment" class="md-nav__link">
      Manual Assessment
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Blog
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Blog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="https://blogs.sap.com/tag/vulas/" title="None" class="md-nav__link">
      None
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bill-of-material-analysis-app" title="Bill of material analysis (app)" class="md-nav__link">
    Bill of material analysis (app)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reachable-from-app-a2c" title="Reachable from app (a2c)" class="md-nav__link">
    Reachable from app (a2c)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-instrumentation-junit" title="Dynamic instrumentation (JUnit)" class="md-nav__link">
    Dynamic instrumentation (JUnit)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-instrumentation-jvm" title="Dynamic instrumentation (JVM)" class="md-nav__link">
    Dynamic instrumentation (JVM)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-instrumentation-instr" title="Static instrumentation (instr)" class="md-nav__link">
    Static instrumentation (instr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reachable-from-traces-t2c" title="Reachable from traces (t2c)" class="md-nav__link">
    Reachable from traces (t2c)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-analysis-files-upload" title="Upload analysis files (upload)" class="md-nav__link">
    Upload analysis files (upload)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-result-report-report" title="Create result report (report)" class="md-nav__link">
    Create result report (report)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-and-delete-apps-clean" title="Clean and delete apps (clean)" class="md-nav__link">
    Clean and delete apps (clean)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clean-workspaces-cleanspace" title="Clean workspaces (cleanspace)" class="md-nav__link">
    Clean workspaces (cleanspace)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/sap/vulnerability-assessment-tool/edit/master/docs/user/manuals/analysis.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="analysis-manual">Analysis Manual<a class="headerlink" href="#analysis-manual" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The various client-side tools offer so-called <strong>goals</strong> in order to analyze applications and interact with the backend.</p>
<p>The following goals perform some sort of application analysis:</p>
<ul>
<li><code>app</code>: Creates a method-level bill of material of an application and all its dependencies.</li>
<li><code>a2c</code>: Builds a call graph (starting from app methods) and checks whether vulnerable code is potentially executable (reachable).</li>
<li><code>test</code>: This is not an actual goal implemented by any of the clients, but describes the collection of execution traces by a so-called Java agent that <em>dynamically instruments</em> Java bytecode during JUnit and integration tests.</li>
<li><code>instr</code>: Produces a modified version of Java archives (<em>static instrumentation</em>) that can be deployed/executed in order to collect traces of actual method executions.</li>
<li><code>t2c</code>: Builds a call graph (starting from traced methods) and checks whether vulnerable code is potentially reachable from those.</li>
</ul>
<p>The following goals are related to data management and reporting:</p>
<ul>
<li><code>upload</code>: Uploads analysis data previously written to disk to the backend</li>
<li><code>report</code>: Downloads analysis data from the backend to the client, produces a result report (HTML, XML, JSON), and throws a build exception in order to break Jenkins jobs</li>
<li><code>clean</code>: Cleans the analysis data of a single app in the backend</li>
<li><code>cleanspace</code>: Cleans an entire workspace in the backend</li>
</ul>
<p>Which goals are supported by the different clients, and how-to configure and execute them is explained in the following subsections.</p>
<p>Note that all goal executions (including configuration settings and statistics) are shown on the "History" tab of the respective applications.</p>
<p><strong>Important:</strong> Make sure to understand the following before proceeding:</p>
<ul>
<li><code>app</code> has to be executed before all the other analysis goals in order to detect all application dependencies with vulnerable code.</li>
<li>Once it has been run, the <a href="../../manuals/assess_and_mitigate/#assessment-and-mitigation-manual">assessment of findings</a> can already start, each finding of <code>app</code> shown on the "Vulnerabilities" tab corresponds to a dependency of an application on a component with a known security vulnerability. The number of findings will not change when running other analysis goals. Instead, <code>a2c</code>, <code>test</code> and <code>t2c</code> try to collect evidence concerning the potential or actual execution of vulnerable code brought up by <code>app</code>.</li>
<li>Assess every finding, no matter whether <code>a2c</code>, <code>test</code> and <code>t2c</code> were able to collect evidence or not. Not finding such evidence does not mean that vulnerabilities cannot be exploited. The absence of proof is not a proof of absence (of exploitable vulnerabilities).</li>
</ul>
<p><strong>Prerequisites:</strong></p>
<ul>
<li>A workspace has been created and its token is known</li>
<li>Java 7 or later is installed</li>
<li>Maven: The plugin is available in the local <code>.m2</code> repository or in a Nexus repository configured in <code>settings.xml</code> (see <a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html">here</a> for more information on how to configure Maven)</li>
</ul>
<p><strong>Limitations</strong>:</p>
<ul>
<li>The reachability analysis (goals <code>a2c</code> and <code>t2c</code>) does not work with Java 9, as the underlying analysis frameworks do not support it.</li>
</ul>
<p><strong>Prerequisites</strong></p>
<ul>
<li>A workspace has been created and its token is known</li>
<li>Java 7 or later is installed</li>
<li>Maven: The vulnerability-assessment-tool Maven plugin must be available in the local <code>.m2</code> repository or in a Nexus repository configured in <code>settings.xml</code> (see <a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html">here</a> for more information on how to configure Maven)</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Java 9 support</p>
<p>The reachability analysis (goals <code>a2c</code> and <code>t2c</code>) is not supported with Java 9, due to limitations of the  3<sup>rd</sup>-party analysis frameworks that vulnerability-assessment-tool relies upon.</p>
</div>
<h2 id="bill-of-material-analysis-app">Bill of material analysis (app)<a class="headerlink" href="#bill-of-material-analysis-app" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Create a complete bill of material (BOM) of the application and of all its dependencies (direct and transitive). Most importantly, the BOM comprises the signatures of all methods of the application and all dependencies, which is compared with a list of methods known to be vulnerable. Moreover, the BOM also comprises meta-info on archive level, e.g., the manifest file entries or the archive's digest (SHA1 in case of Java archives, MD5 in case of Python).</p>
<h4>Result</h4>
<p>In the vulnerability-assessment-tool frontend, the table in tab "Dependencies" is populated. In case any of the dependencies has vulnerabilities, they are shown in tab "Vulnerabilities". The column "Inclusion of vulnerable code" indicates whether the version in use is known to be vulnerable or not (see tooltip for more information).</p>
<h4>Important</h4>
<p>By default, the Maven plugin searches for application source and compiled code in the folders <code>src/main/java</code> and <code>target/classes</code>. If source or byte code is generated or modified during the build process, and stored in other folders than the ones mentioned, you need to add those directories using the parameter <code>vulas.core.app.sourceDir</code>. Otherwise, the respective code will not be recognized as application code, hence, ignored when performing the reachability analysis. Example: Suppose source code is generated into the folder <code>target/generated-sources</code>. If this code is compiled into the folder <code>target/classes</code>, you do not need to do anything. If it is compiled into a different folder, you would need to add this folder to entries of <code>vulas.core.app.sourceDir</code>.</p>
<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_1" type="radio" id="__tab_1_0" checked="checked" />
<label for="__tab_1_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -jar vulas-cli-3.0.17-jar-with-dependencies.jar -goal app
</pre></div></div>
<input name="__tabs_1" type="radio" id="__tab_1_1" />
<label for="__tab_1_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas compile vulas:app
</pre></div></div>
<input name="__tabs_1" type="radio" id="__tab_1_2" />
<label for="__tab_1_2">Gradle</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>./gradlew assemble vulasApp
</pre></div></div>
</div>
<h4>Configure as follows</h4>
<div class="codehilite"><pre><span></span><span class="c1"># Where application source or bytecode and application dependencies (JAR and/or WAR files) are located</span>
<span class="c1"># Relative or absolute paths, multiple values to be separated by comma</span>
<span class="na">vulas.core.app.sourceDir</span> <span class="o">=</span>

<span class="c1"># Whether or not empty apps (w/o constructs and dependencies) are uploaded to the backend</span>
<span class="na">vulas.core.app.uploadEmpty</span> <span class="o">=</span> <span class="s">false</span>

<span class="c1"># When true, JAR not known to vulnerability-assessment-tool Maven central and not already available to the backend are posted to the backend</span>
<span class="na">vulas.core.app.uploadLibrary</span> <span class="o">=</span> <span class="s">false</span>

<span class="c1"># Number of worker threads analyzing the JAR files from which classes are loaded</span>
<span class="na">vulas.core.jarAnalysis.poolSize</span> <span class="o">=</span> <span class="s">4</span>

<span class="c1"># Package prefix(es) of application code (multiple values to be separated by comma)</span>
<span class="c1"># Default:</span>
<span class="c1">#   CLI: -</span>
<span class="c1"># Note: Ignored when running the Maven plugin. In all other cases it avoids the separation of application and dependency JARs into distinct folders</span>
<span class="na">vulas.core.app.appPrefixes</span> <span class="o">=</span>

<span class="c1"># Regex that identifies JARs with application code (multiple values to be separated by comma)</span>
<span class="c1"># Default:</span>
<span class="c1">#   CLI: -</span>
<span class="c1"># Note: Ignored when running the Maven plugin. In all other cases it avoids the separation of application and dependency JARs into distinct folders</span>
<span class="na">vulas.core.app.appJarNames</span> <span class="o">=</span>
</pre></div>

<h2 id="reachable-from-app-a2c">Reachable from app (a2c)<a class="headerlink" href="#reachable-from-app-a2c" title="Permanent link">&para;</a></h2>
<h4>Objectives</h4>
<ul>
<li>Check whether vulnerable methods are reachable, i.e., whether the application can be run in a way that a vulnerable method is executed.</li>
<li>Identify all so-called touch points, which are direct calls from an application method to a library method.</li>
<li>Collect all reachable methods for every dependency of the application.</li>
</ul>
<p>The first objective supports the risk assessment for a given vulnerability, while the second and third objectives primarily support the mitigation. Depending on the size of the application, the reachability analysis can consume a considerable amount of resources (time and memory). It is not seldom that it runs for several hours.</p>
<h4>Limitations</h4>
<ul>
<li>Python is not supported</li>
<li>Java 9 and later versions are not supported by the underlying frameworks</li>
</ul>
<h4>Result</h4>
<p>In the vulnerability-assessment-tool frontend, tab "Vulnerabilities", the column "Static Analysis" is populated for all libraries subject to known vulnerabilities. By selecting single row of this table and the one of the detailed page, one can get more information up until the paths of potential executions (if any).</p>
<h4>How does it work</h4>
<p>vulnerability-assessment-tool uses <a href="http://wala.sourceforge.net/wiki/index.php/Main_Page">Wala</a> or <a href="https://sable.github.io/soot/">Soot</a>, both static analysis frameworks for Java, in order to construct a call graph representing all possible program executions starting from application methods. This graph is traversed in order to see whether and from where methods with known vulnerabilities can be reached.</p>
<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_2" type="radio" id="__tab_2_0" checked="checked" />
<label for="__tab_2_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -Xmx8g -Xms2g -jar vulas-cli-3.0.17-jar-with-dependencies.jar -goal a2c
</pre></div></div>
<input name="__tabs_2" type="radio" id="__tab_2_1" />
<label for="__tab_2_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">MAVEN_OPTS</span><span class="o">=</span><span class="s2">&quot;-Xmx8g -Xms2g&quot;</span>
mvn -Dvulas compile vulas:a2c
</pre></div></div>
<input name="__tabs_2" type="radio" id="__tab_2_2" />
<label for="__tab_2_2">Gradle</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>./gradlew assemble vulasA2C
</pre></div></div>
</div>
<h4>Configure as follows</h4>
<p>The following configuration options apply to the reachability analysis no matter which call graph construction framework is used. See below for framework-specific configuration options.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Limits the analysis to certain bugs (multiple values separated by comma)</span>
<span class="c1"># If empty, all relevant bugs retrieved from backend will be considered</span>
<span class="c1"># Default: empty</span>
<span class="na">vulas.reach.bugs</span> <span class="o">=</span>

<span class="c1"># Analysis framework to be used</span>
<span class="c1"># Possible values: wala, soot</span>
<span class="na">vulas.reach.fwk</span> <span class="o">=</span> <span class="s">wala</span>

<span class="c1"># Regex to filter entry points (semicolon separated)</span>
<span class="na">vulas.reach.constructFilter</span> <span class="o">=</span>

<span class="c1"># All packages to be excluded from call graph construction, packages</span>
<span class="c1"># are separated by semicolon e.g. [java/.*;sun/.*]. Defaults for the different</span>
<span class="c1"># analysis frameworks are provided in the respective configuration files. --&gt;</span>
<span class="na">vulas.reach.excludePackages</span> <span class="o">=</span>

<span class="c1"># All JAR files to be excluded from call graph construction (multiple entries to be separated by comma)</span>
<span class="c1">#</span>
<span class="c1"># Default: WebServicesAgent.jar (from Wily Introscope, an app perf monitoring tool that has invalid manifest header fields creating problems for Wala)</span>
<span class="na">vulas.reach.excludeJars</span> <span class="o">=</span> <span class="s">WebServicesAgent.jar</span>

<span class="c1"># Dir to search for app source files (only vulas:a2c)</span>
<span class="c1"># If empty, they will be fetched from backend</span>
<span class="na">vulas.reach.sourceDir</span> <span class="o">=</span>

<span class="c1"># Timeout for reachability analysis (in mins)</span>
<span class="c1"># Default: 120 mins</span>
<span class="na">vulas.reach.timeout</span> <span class="o">=</span> <span class="s">120</span>

<span class="c1"># Max number of paths uploaded for a reachable change list element</span>
<span class="na">vulas.reach.maxPathPerChangeListElement</span> <span class="o">=</span> <span class="s">10</span>

<span class="c1"># Whether or not to collect touch points</span>
<span class="c1"># Default: true</span>
<span class="na">vulas.reach.identifyTouchpoints</span> <span class="o">=</span> <span class="s">true</span>

<span class="c1"># Whether to search for the shortest path(s) from entry points to vulnerable constructs, or to quit after the first path found</span>
<span class="c1"># Default: true</span>
<span class="na">vulas.reach.searchShortest</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>

<h4>Call graph construction framework</h4>
<p>Behind the scene, a source code analysis framework is used to construct the call graph, either starting from application methods (<code>a2c</code>) or from traced methods (<code>t2c</code>). Right now, the two frameworks <a href="https://github.com/wala/WALA/wiki">Wala</a> and <a href="http://www.sable.mcgill.ca/soot/">Soot</a> are supported and can be configured with <code>vulas.reach.fwk</code>. Both offer several configuration options to influence the accuracy of the call graph and its construction time. Once the call graph has been constructed, its size (in terms of nodes and edges) is printed to the console, which is useful for comparing the impact of the different configuration options, e.g.</p>
<div class="codehilite"><pre><span></span>[vulas-reach-1] INFO  com.sap.psr.vulas.cg.wala.WalaCallgraphConstructor  - Normalized call graph has [167639 nodes] (with distinct ConstructId) and [1279495 edges]
</pre></div>

<h5>WALA</h5>
<p>The setting <code>vulas.reach.wala.callgraph.algorithm</code> determines the construction algorithm to be used. From <code>RTA</code> (Rapid Type Analysis) to <code>0-1-ctn-CFA</code>, the call graph  becomes more accurate, but the construction takes more time. A more accurate call graph means that it contains less false-positives, i.e., method invocations that cannot happen during actual program execution. As a rule of thumb, a call graph constructed with <code>RTA</code> contains more nodes and edges than one constructed with <code>0-1-ctn-CFA</code>. Note the following before choosing a more simple algorithm: The increase of nodes and edges resulting from, for instance, the choice of RTA, has a negative impact on the performance of the later analysis phases. As such, it may be worth to spend more time on the graph construction. See <a href="https://ben-holland.com/call-graph-construction-algorithms-explained/">here</a>, <a href="http://wala.sourceforge.net/wiki/index.php/UserGuide:CallGraph">there</a> and <a href="http://wala.sourceforge.net/wiki/index.php/UserGuide:PointerAnalysis">there</a> for more information regarding the difference of call graph construction algorithms.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Possible values: 0-CFA; 0-ctn-CFA; vanilla-0-1-CFA; 0-1-CFA; 0-1-ctn-CFA</span>
<span class="c1"># Default algorithm: 0-1-CFA</span>
<span class="na">vulas.reach.wala.callgraph.algorithm</span> <span class="o">=</span> <span class="s">0-1-CFA</span>
</pre></div>

<p>The setting <code>vulas.reach.wala.callgraph.reflection</code> determines the consideration of reflection, which is commonly used to instantiate and invoke classes and methods. See <a href="https://github.com/wala/WALA/blob/master/com.ibm.wala.core/src/com/ibm/wala/ipa/callgraph/AnalysisOptions.java">here</a> for more information.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Reflection option to be used for call graph construction</span>
<span class="c1"># Possible values: FULL; NO_METHOD_INVOKE; NO_STRING_CONSTANTS; APPLICATION_GET_METHOD</span>
<span class="c1"># Possible values: NONE; NO_FLOW_TO_CASTS; NO_FLOW_TO_CASTS_NO_METHOD_INVOKE; ONE_FLOW_TO_CASTS_NO_METHOD_INVOKE; NO_FLOW_TO_CASTS_APPLICATION_GET_METHOD; ONE_FLOW_TO_CASTS_APPLICATION_GET_METHOD</span>
<span class="c1"># Default value: NO_FLOW_TO_CASTS_NO_METHOD_INVOKE</span>
<span class="na">vulas.reach.wala.callgraph.reflection</span> <span class="o">=</span> <span class="s">NO_FLOW_TO_CASTS_NO_METHOD_INVOKE</span>
</pre></div>

<h5>Soot</h5>
<p>In order to use the Soot call graph construction framework, please modify the POM profile as follows:</p>
<ul>
<li>
<p>Add a <code>pluginRepositories</code> section right after the <code>properties</code> in order to download Soot artifacts from the University of Paderborn</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;/properties&gt;</span>
<span class="hll"><span class="nt">&lt;pluginRepositories&gt;</span>
</span><span class="hll">    <span class="nt">&lt;pluginRepository&gt;</span>
</span><span class="hll">        <span class="nt">&lt;id&gt;</span>soot<span class="nt">&lt;/id&gt;</span>
</span><span class="hll">        <span class="nt">&lt;url&gt;</span>https://soot-build.cs.uni-paderborn.de/nexus/repository/soot-snapshot/<span class="nt">&lt;/url&gt;</span>
</span><span class="hll">        <span class="nt">&lt;snapshots&gt;</span>
</span><span class="hll">            <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/snapshots&gt;</span>
</span><span class="hll">        <span class="nt">&lt;releases&gt;</span>
</span><span class="hll">            <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/releases&gt;</span>
</span><span class="hll">        <span class="nt">&lt;/pluginRepository&gt;</span>
</span><span class="hll"><span class="nt">&lt;/pluginRepositories&gt;</span>
</span></pre></div>

</li>
<li>
<p>Add a <code>dependencies</code> and <code>dependency</code> section on the artifact <code>lang-java-reach-soot</code> right after the plugin:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;groupId&gt;</span>com.sap.research.security.vulas<span class="nt">&lt;/groupId&gt;</span>
<span class="nt">&lt;artifactId&gt;</span>plugin-maven<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;version&gt;</span>${vulas.version}<span class="nt">&lt;/version&gt;</span>
<span class="hll"><span class="nt">&lt;dependencies&gt;</span>
</span><span class="hll">    <span class="nt">&lt;dependency&gt;</span>
</span><span class="hll">        <span class="nt">&lt;groupId&gt;</span>com.sap.research.security.vulas<span class="nt">&lt;/groupId&gt;</span>
</span><span class="hll">        <span class="nt">&lt;artifactId&gt;</span>lang-java-reach-soot<span class="nt">&lt;/artifactId&gt;</span>
</span><span class="hll">        <span class="nt">&lt;version&gt;</span>${vulas.version}<span class="nt">&lt;/version&gt;</span>
</span><span class="hll">    <span class="nt">&lt;/dependency&gt;</span>
</span><span class="hll"><span class="nt">&lt;/dependencies&gt;</span>
</span></pre></div>

</li>
<li>
<p>Make sure to exclude the Soot repository from mirrors in your Maven's <code>settings.xml</code>, e.g., <code>&lt;mirrorOf&gt;*,!soot&lt;/mirrorOf&gt;</code>. See <a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html">here</a> for more details how to configure repository mirrors.</p>
</li>
</ul>
<p>The subset of Soot configuration options that can be set through vulnerability-assessment-tool are as follows. For all other Soot settings, the respective defaults are taken. See <a href="https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm">here</a> for a complete documentation of Soot configuration options.</p>
<div class="codehilite"><pre><span></span><span class="c1"># Packages that are excluded when building callgraph</span>
<span class="c1"># Soot option: -exclude ...</span>
<span class="c1"># https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm#section_5</span>
<span class="na">vulas.reach.soot.exclusions</span>    <span class="o">=</span> <span class="s">java.awt.*;javax.swing.*;sun.awt.*;sun.swing.*;org.netbeans.*;com.sun.*;org.openide.*;com.ibm.crypto.*;com.ibm.security.*;org.apache.xerces.*</span>

<span class="c1"># Use or not use &quot;verbose mode&quot; when building callgraph</span>
<span class="c1"># Default: false; Recommended: set it to true when debugging</span>
<span class="c1"># Soot options: -verbose -debug -debug-resolver</span>
<span class="c1"># https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm#phase_5_2</span>
<span class="na">vulas.reach.soot.verbose</span>       <span class="o">=</span> <span class="s">false</span>

<span class="c1"># Use or not use &quot;application mode&quot; when building callgraph</span>
<span class="c1"># Soot option: -app</span>
<span class="c1"># https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm#section_2</span>
<span class="na">vulas.reach.soot.appMode</span>       <span class="o">=</span> <span class="s">false</span>

<span class="c1"># Allow or not allow phantom references (Recommended: false)</span>
<span class="c1"># Soot option: -allow-phantom-refs</span>
<span class="c1"># https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm#section_2</span>
<span class="na">vulas.reach.soot.allowPhantom</span>  <span class="o">=</span> <span class="s">true</span>

<span class="c1"># No class body for excluded packages</span>
<span class="c1"># Soot option: -no-bodies-for-excluded</span>
<span class="c1"># https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm#section_2</span>
<span class="na">vulas.reach.soot.nobodyForX</span>    <span class="o">=</span> <span class="s">true</span>


<span class="c1"># Use soot spark or not;</span>
<span class="c1"># if yes, three options could be set: spark.otf (default true); spark.vta (default false); spark.rta (default false).</span>
<span class="c1"># Soot option: -p cg.spark ...</span>
<span class="c1"># https://soot-build.cs.uni-paderborn.de/public/origin/master/soot/soot-master/3.1.0/options/soot_options.htm#phase_5_2</span>
<span class="na">vulas.reach.soot.spark</span>         <span class="o">=</span> <span class="s">true</span>
<span class="na">vulas.reach.soot.spark.otf</span>     <span class="o">=</span> <span class="s">true</span>
<span class="na">vulas.reach.soot.spark.vta</span>     <span class="o">=</span> <span class="s">false</span>
<span class="na">vulas.reach.soot.spark.rta</span>     <span class="o">=</span> <span class="s">false</span>


<span class="c1"># Whether and how to generate a &#39;DummyMainMethod&#39; used as an entrypoint for the callgraph construction:</span>
<span class="c1"># | Option                                                              | Consequence                                                                                          |</span>
<span class="c1"># |-------------------------------------------------------------------- |------------------------------------------------------------------------------------------------------|</span>
<span class="c1"># | none (default)                                                      | no &#39;DummyMainMethod&#39; is generated (default)                                                          |</span>
<span class="c1"># | soot.jimple.infoflow.entryPointCreators.SequentialEntryPointCreator | a &#39;DummyMainMethod&#39; that invokes all entrypoints is generated                                        |</span>
<span class="c1"># | soot.jimple.infoflow.entryPointCreators.DefaultEntryPointCreator    | a &#39;DummyMainMethod&#39; in which all entrypoints are generated (random order)                            |</span>
<span class="c1"># | com.sap.psr.vulas.cg.soot.CustomEntryPointCreator                   | same as DefaultEntryPointCreated + for abstract classes/interface a dummy implementation is generated |</span>
<span class="na">vulas.reach.soot.entrypointGenerator</span> <span class="o">=</span> <span class="s">none</span>
</pre></div>

<h2 id="dynamic-instrumentation-junit">Dynamic instrumentation (JUnit)<a class="headerlink" href="#dynamic-instrumentation-junit" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Collect method traces during the execution of JUnit tests. Information about traced methods will be compared with methods subject to known vulnerabilities.</p>
<h4>Limitations</h4>
<ul>
<li>Python is not supported</li>
</ul>
<h4>Result</h4>
<ul>
<li>In the vulnerability-assessment-tool frontend, tab "Vulnerabilities", the column "Dynamic Analysis" is populated for all libraries subject to known vulnerabilities. By selecting single row of this table and the one of the detailed page, one can get more information up until the paths of actual executions (if any).</li>
<li>In the vulnerability-assessment-tool frontend, tab "Test coverage", the number of traced vs. the number of total methods is shown per Java package of the application.</li>
</ul>
<h4>How does it work</h4>
<p>vulnerability-assessment-tool collects runtime information during application execution, most importantly whether a vulnerable method has been called and the corresponding call stack. In order to collect this information, the byte code of the application and all its dependencies has to be changed, which can be achieved either dynamically or statically: In case of <em>dynamic instrumentation</em>, the byte code of a given Java class is changed at the time the class definition is loaded for the first time, e.g., during the execution of JUnit tests or integration tests. vulnerability-assessment-tool injects statements in order to save the timestamp of every method invocation as well as stack trace information. Per default, this information is saved in folder <code>target/vulas/upload</code> and uploaded using the goal <code>vulas:upload</code>. To that end, vulnerability-assessment-tool must be registered using the JVM option <code>-javaagent</code>. In case of JUnit tests, the agent is registered by the Maven goal <code>prepare-vulas-agent</code>. In case of <em>static instrumentation</em>, the byte code of classes residing in the file system is changed, e.g., the WAR file of a deployable Web application. This is done with help of the goal <code>vulas:instr</code> (see below).</p>
<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_3" type="radio" id="__tab_3_0" checked="checked" />
<label for="__tab_3_0">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas vulas:prepare-vulas-agent <span class="nb">test</span> vulas:upload
</pre></div></div>
</div>
<h4>Configure as follows</h4>
<div class="codehilite"><pre><span></span><span class="c1"># Byte code instrumentor(s) to be used (multiple ones to be separated by comma)</span>
<span class="c1">#</span>
<span class="c1"># Possible values:</span>
<span class="c1">#   com.sap.psr.vulas.monitor.trace.SingleTraceInstrumentor: Collects exactly one timestamp for every invoked vulnerable method (no call stack)</span>
<span class="c1">#   com.sap.psr.vulas.monitor.trace.SingleStackTraceInstrumentor: Collects at most &quot;vulas.core.instr.maxStacktraces&quot; call stack for every invoked vulnerable method</span>
<span class="c1">#   com.sap.psr.vulas.monitor.trace.StackTraceInstrumentor:  Collects all call stacks for every invoked vulnerable method</span>
<span class="c1">#   com.sap.psr.vulas.monitor.touch.TouchPointInstrumentor: Collects so-called touch points, i.e., calls from an app method to a library method</span>
<span class="c1">#</span>
<span class="c1"># Default: com.sap.psr.vulas.monitor.trace.SingleTraceInstrumentor</span>
<span class="c1">#</span>
<span class="c1"># Note:</span>
<span class="c1">#   The above list of possible values is ordered ascending after performance impact and memory consumption,</span>
<span class="c1">#   i.e., the SingleTraceInstrumentor has the least impact on performance and memory consumption</span>
<span class="na">vulas.core.instr.instrumentorsChoosen</span> <span class="o">=</span> <span class="s">com.sap.psr.vulas.monitor.trace.SingleTraceInstrumentor</span>

<span class="c1"># Max. number of stacktraces collected per instrumented vulnerable method</span>
<span class="c1"># Default: 10</span>
<span class="c1"># Note: Only applies to SingleStackTraceInstrumentor</span>
<span class="na">vulas.core.instr.maxStacktraces</span> <span class="o">=</span> <span class="s">10</span>

<span class="c1"># JARs in the following directories (or its subdirs) will not be instrumented</span>
<span class="c1">#vulas.core.instr.blacklist.dirs =</span>

<span class="c1"># Constructs of dependencies having one of the following scope(s) will not be instrumented (multiple ones to be separated by comma)</span>
<span class="c1"># Default: test, provided</span>
<span class="c1"># Note: Only applies to vulnerability-assessment-tool Maven plugin; in case of vulnerability-assessment-tool CLI, all dependencies have scope RUNTIME</span>
<span class="na">vulas.core.instr.blacklist.jars.ignoreScopes</span> <span class="o">=</span> <span class="s">test, provided</span>

<span class="c1"># User-provided blacklist: Constructs of dependencies whose filename matches one of the following regular expressions will not be instrumented (multiple ones to be separated by comma)</span>
<span class="c1"># Default: -</span>
<span class="c1"># Note: Those are on top of &quot;vulas.core.instr.blacklist.jars&quot;</span>
<span class="na">vulas.core.instr.blacklist.jars.custom</span> <span class="o">=</span>

<span class="c1"># User-provided Java packages whose constructs are not instrumented (multiple ones to be separated by comma)</span>
<span class="c1"># Default: -</span>
<span class="c1"># Note: Those are on top of &quot;vulas.core.instr.blacklist.classes.jre&quot; and &quot;vulas.core.instr.blacklist.classes&quot;</span>
<span class="na">vulas.core.instr.blacklist.classes.custom</span> <span class="o">=</span>

<span class="c1"># If true, bytecode and instrumentation code will be written to tmpDir</span>
<span class="na">vulas.core.instr.writeCode</span> <span class="o">=</span> <span class="s">false</span>

<span class="c1"># JARs for which no traces and no archive information will be uploaded (e.g., from vulnerability-assessment-tool itself)</span>
<span class="c1"># Multiple entries are separated by comma, each entry is a regex</span>
<span class="na">vulas.core.monitor.blacklist.jars</span> <span class="o">=</span> <span class="s">lang-java-.*\.jar,vulas-core-.*\.jar,surefire-.*\.jar,junit-.*\.jar,org.jacoco.agent.*\.jar</span>

<span class="c1"># Enables or disables the periodic upload of collected traces to the backend</span>
<span class="c1"># Default: true</span>
<span class="c1"># Note: Set to FALSE in case of JUnit tests</span>
<span class="na">vulas.core.monitor.periodicUpload.enabled</span> <span class="o">=</span> <span class="s">true</span>

<span class="c1"># Interval (in millisecs) between periodic uploads</span>
<span class="c1"># Default: 300000 (5 min)</span>
<span class="na">vulas.core.monitor.periodicUpload.interval</span>  <span class="o">=</span> <span class="s">300000</span>

<span class="c1"># Max. number of traces uploaded by each periodic upload</span>
<span class="c1"># Default: 1000</span>
<span class="na">vulas.core.monitor.periodicUpload.batchSize</span> <span class="o">=</span> <span class="s">1000</span>

<span class="c1"># Max number of items (traces, paths, touch points, etc.) collected</span>
<span class="c1"># Default: -1 (no limit)</span>
<span class="na">vulas.core.monitor.maxItems</span> <span class="o">=</span> <span class="s">-1</span>
</pre></div>

<h2 id="dynamic-instrumentation-jvm">Dynamic instrumentation (JVM)<a class="headerlink" href="#dynamic-instrumentation-jvm" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Collect method traces during the actual execution of the application. Information about traced methods will be compared with methods subject to known vulnerabilities.</p>
<h4>Limitations</h4>
<ul>
<li>Python is not supported</li>
</ul>
<h4>Result</h4>
<p>Same as in previous section</p>
<h4>How does it work</h4>
<p>By registering a Java agent at JVM startup, vulnerability-assessment-tool changes the bytecode of every Java class loaded at runtime. For example, it injects Java statements in order to save the timestamp of every method invocation as well as stack trace information. This information is periodically uploaded to the vulnerability-assessment-tool backend.</p>
<h4>Run as follows</h4>
<ul>
<li>Download the file <code>lang-java-3.0.17-jar-with-dependencies.jar</code> to your computer (CLI users can take it from the folder <code>./instr</code>).</li>
<li>Add the following arguments to the Java runtime (and replace line breaks by a single space characters).</li>
</ul>
<div class="codehilite"><pre><span></span>-javaagent:lang-java-3.0.17-jar-with-dependencies.jar
-Dvulas.shared.backend.serviceUrl=http://localhost:8033/backend/
-Dvulas.core.backendConnection=READ_WRITE
-Dvulas.core.monitor.periodicUpload.enabled=true
-Dvulas.core.appContext.group=&lt;GROUP&gt;
-Dvulas.core.appContext.artifact=&lt;ARTIFACT&gt;
-Dvulas.core.appContext.version=&lt;VERSION&gt;
-Dvulas.core.instr.instrumentorsChoosen=com.sap.psr.vulas.monitor.trace.SingleTraceInstrumentor
-Dvulas.core.space.token=&lt;WORKSPACE-TOKEN&gt;
-noverify
</pre></div>

<ul>
<li>Start the application and perform some application-specific tests and workflows.</li>
</ul>
<h4>Example</h4>
<p>In case of Tomcat 8.x, one needs to (1) copy <code>lang-java-3.0.17-jar-with-dependencies.jar</code> into the folder <code>./bin</code> and (2) specify the variable <code>CATALINA_OPTS</code> as follows in the file <code>./bin/setenv.bat</code>. Do not forget to specify <code>&lt;GROUP&gt;</code>, <code>&lt;ARTIFACT&gt;</code>, <code>&lt;VERSION&gt;</code> and <code>&lt;WORKSPACE-TOKEN&gt;</code> for the application under analysis. Note: The use of <code>setenv.bat</code> does not work if Tomcat is run as Windows service.</p>
<div class="superfences-tabs">
<input name="__tabs_4" type="radio" id="__tab_4_0" checked="checked" />
<label for="__tab_4_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span><span class="nb">set</span> <span class="s2">&quot;CATALINA_OPTS=-javaagent:lang-java-3.0.17-jar-with-dependencies.jar -Dvulas.shared.backend.serviceUrl=http://localhost:8033/backend/-Dvulas.core.backendConnection=READ_WRITE -Dvulas.core.monitor.periodicUpload.enabled=true -Dvulas.core.appContext.group=&lt;GROUP&gt; -Dvulas.core.appContext.artifact=&lt;ARTIFACT&gt; -Dvulas.core.appContext.version=&lt;VERSION&gt; -Dvulas.core.instr.instrumentorsChoosen=com.sap.psr.vulas.monitor.trace.SingleTraceInstrumentor -Dvulas.core.space.token=&lt;WORKSPACE-TOKEN&gt; -noverify&quot;</span>
</pre></div></div>
</div>
<h2 id="static-instrumentation-instr">Static instrumentation (instr)<a class="headerlink" href="#static-instrumentation-instr" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Modify an existing JAR (WAR) created by <code>mvn package</code> so that traces will be collected once the JAR is executed (the WAR is deployed in a Web application container such as Tomcat). Note: In contrast to what is described in the previous section "Integration Tests", <code>vulas:instr</code> will not result in the collection of traces for Tomcat itself.</p>
<h4>Prerequisite</h4>
<p>An application's JAR or WAR, e.g., as created with <code>mvn package</code> in folder <code>target</code>.</p>
<h4>Limitations</h4>
<ul>
<li>Python is not supported</li>
</ul>
<h4>Result</h4>
<p>A new JAR/WAR with suffix <code>-vulas-instr</code> will be created in folder <code>target/vulas/target</code>.</p>
<h4>How does it work</h4>
<p>The bytecode of all the Java classes found in the JAR (WAR) will be modified as to collect information about, for instance, method execution and stack traces. This information will be uploaded to the backend if the JAR (WAR) is executed. Note: The modified code in the new JAR with suffix <code>-vulas-instr</code> can be inspected with decompilers such as <a href="http://jd.benow.ca/">JD-GUI</a>.</p>
<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_5" type="radio" id="__tab_5_0" checked="checked" />
<label for="__tab_5_0">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn package
mvn -Dvulas vulas:instr
</pre></div></div>
</div>
<h4>Troubleshooting</h4>
<ul>
<li>The console shows compilation errors, e.g., <code>cannot find javax.servlet.http.HttpServletRequest</code>. The reason is that all application dependencies are re-compiled, and it can happen that some of the classes do have dependency requirements not met by the application. This can be overcome by identifying the respective JAR file and downloading it to the folder <code>target/vulas/lib</code>.</li>
</ul>
<h2 id="reachable-from-traces-t2c">Reachable from traces (t2c)<a class="headerlink" href="#reachable-from-traces-t2c" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Understand whether vulnerable methods can be potentially reached from traced methods.</p>
<h4>Prerequisite</h4>
<p>Traces must have been collected during JUnit or integration tests (see above)</p>
<h4>Limitations</h4>
<ul>
<li>Python is not supported</li>
<li>Java 9 and later versions are not supported by the underlying frameworks</li>
</ul>
<h4>Result</h4>
<p>In the vulnerability-assessment-tool frontend, tab "Vulnerabilities", the column "Static Analysis" is populated for all libraries subject to known vulnerabilities. By selecting single row of this table and the one of the detailed page, one can get more information up until the paths of potential executions (if any).</p>
<h4>How does it work</h4>
<p>In contrast to the goal <code>a2c</code>, the callgraph is built starting from all methods that were previously traced. As such, the call graph construction overcomes weaknesses of static source analysis related to the use of reflection and control inversion. What remains the same is that the resulting graph is traversed in order to see whether and from where methods with known vulnerabilities can be reached.</p>
<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_6" type="radio" id="__tab_6_0" checked="checked" />
<label for="__tab_6_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -jar vulas-cli-jar-with-dependencies.jar -goal t2c
</pre></div></div>
<input name="__tabs_6" type="radio" id="__tab_6_1" />
<label for="__tab_6_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas vulas:t2c
</pre></div></div>
</div>
<h4>Configure as follows</h4>
<div class="codehilite"><pre><span></span><span class="c1"># Limits the analysis to certain bugs (multiple values separated by comma)</span>
<span class="c1"># If empty, all relevant bugs retrieved from backend will be considered</span>
<span class="c1"># Default: empty</span>
<span class="na">vulas.reach.bugs</span> <span class="o">=</span>

<span class="c1"># Analysis framework to be used</span>
<span class="c1"># Possible values: wala, soot</span>
<span class="na">vulas.reach.fwk</span> <span class="o">=</span> <span class="s">wala</span>

<span class="c1"># Regex to filter entry points (semicolon separated)</span>
<span class="na">vulas.reach.constructFilter</span> <span class="o">=</span>

<span class="c1"># All packages to be excluded from call graph construction, packages</span>
<span class="c1"># are separated by semicolon e.g. [java/.*;sun/.*]. Defaults for the different</span>
<span class="c1"># analysis frameworks are provided in the respective configuration files. --&gt;</span>
<span class="na">vulas.reach.excludePackages</span> <span class="o">=</span>

<span class="c1"># All JAR files to be excluded from call graph construction (multiple entries to be separated by comma)</span>
<span class="c1">#</span>
<span class="c1"># Default: WebServicesAgent.jar (from Wily Introscope, an app perf monitoring tool that has invalid manifest header fields creating problems for Wala)</span>
<span class="na">vulas.reach.excludeJars</span> <span class="o">=</span> <span class="s">WebServicesAgent.jar</span>

<span class="c1"># Dir to search for app source files (only vulas:a2c)</span>
<span class="c1"># If empty, they will be fetched from backend</span>
<span class="na">vulas.reach.sourceDir</span> <span class="o">=</span>

<span class="c1"># Timeout for reachability analysis (in mins)</span>
<span class="c1"># Default: 120 mins</span>
<span class="na">vulas.reach.timeout</span> <span class="o">=</span> <span class="s">120</span>

<span class="c1"># Max number of paths uploaded for a reachable change list element</span>
<span class="na">vulas.reach.maxPathPerChangeListElement</span> <span class="o">=</span> <span class="s">10</span>

<span class="c1"># Whether or not to collect touch points</span>
<span class="c1"># Default: true</span>
<span class="na">vulas.reach.identifyTouchpoints</span> <span class="o">=</span> <span class="s">true</span>

<span class="c1"># Whether to search for the shortest path(s) from entry points to vulnerable constructs, or to quit after the first path found</span>
<span class="c1"># Default: true</span>
<span class="na">vulas.reach.searchShortest</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>

<h2 id="upload-analysis-files-upload">Upload analysis files (upload)<a class="headerlink" href="#upload-analysis-files-upload" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Uploads analysis data in folder <code>vulas.core.uploadDir</code> to the backend. Such data is only written if the parameter <code>vulas.core.backendConnection</code> is set to <code>OFFLINE</code> or <code>READ_ONLY</code>. By default, this is only the case for the instrumentation of JUnit or integration tests.</p>
<h4>Configure as follows</h4>
<div class="codehilite"><pre><span></span>    <span class="c1"># When true, serialized HTTP requests will be deleted after the upload succeeded (incl. the JSON files)</span>
    <span class="c1"># Default: true</span>
    <span class="na">vulas.core.upload.deleteAfterSuccess</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>

<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_7" type="radio" id="__tab_7_0" checked="checked" />
<label for="__tab_7_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -Dvulas.core.appContext.group<span class="o">=</span>&lt;GROUP&gt; -Dvulas.core.appContext.artifact<span class="o">=</span>&lt;ARTIFACT&gt; -Dvulas.core.appContext.version<span class="o">=</span><span class="m">3</span>.0.17
     -jar vulas-cli-jar-with-dependencies.jar -goal upload
</pre></div></div>
<input name="__tabs_7" type="radio" id="__tab_7_1" />
<label for="__tab_7_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas vulas:upload
</pre></div></div>
</div>
<h2 id="create-result-report-report">Create result report (report)<a class="headerlink" href="#create-result-report-report" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Creates result reports in HTML, XML and JSON format (on the basis of analysis results downloaded from the vulnerability-assessment-tool backend). Additionally, the Maven and Gradle plugins can be configured to throw a build exception in order break Jenkins jobs and pipelines in case vulnerable code is present (or reachable/executed). The HTML report can be copied into a Jenkins dashboard using the <a href="http://wiki.jenkins-ci.org/display/JENKINS/HTML+Publisher+Plugin">HTML Publisher Plugin</a> (see <a href="../../tutorials/jenkins_howto">automation</a> for a configuration example).</p>
<h4>Multi-module Maven projects</h4>
<p>The report goal should be called in a separate build step, e.g., <code>mvn -Dvulas vulas:report</code>. It must NOT be called together with other goals, e.g., <code>mvn -Dvulas compile vulas:app vulas:report</code>, because the build may fail before <code>app</code> and other goals are executed for all the modules. Alternatively, you can use the Maven option <code>--fail-at-end</code> (see <a href="https://maven.apache.org/guides/mini/guide-multiple-modules.html">here</a> for more info).</p>
<h4>Result</h4>
<p>A summary report is written to disk (in HTML, XML and JSON format). For Maven, the target directory of the different files is "target/vulas/report", for Gradle it is "build/vulas/report". For CLI, the exact location is printed to the console.</p>
<h4>How does it work</h4>
<p>Identified vulnerabilities including any information gathered during static and dynamic analysis will be downloaded from the backend.</p>
<h4>Configure as follows</h4>
<div class="codehilite"><pre><span></span>    <span class="c1"># A vulnerability in blacklisted scopes will not cause an exception  (multiple scopes to be separated by comma)</span>
    <span class="c1"># Default: test, provided</span>
    <span class="c1"># Note: For CLI, all dependencies are considered as RUNTIME dependencies</span>
    <span class="na">vulas.report.exceptionScopeBlacklist</span> <span class="o">=</span> <span class="s">TEST, PROVIDED</span>

    <span class="c1"># Specified vulnerabilities will not cause a build exception (multiple bugs to be separated by comma)</span>
    <span class="c1"># Default: -</span>
    <span class="na">vulas.report.exceptionExcludeBugs</span> <span class="o">=</span> <span class="s">&lt;vuln-id&gt;</span>

    <span class="c1"># Explanation why the given vulnerability is not relevant/exploitable in the specific application context</span>
    <span class="c1"># Default: -</span>
    <span class="na">vulas.report.exceptionExcludeBugs.&lt;vuln-id&gt;</span> <span class="o">=</span> <span class="s">Not exploitable because ...</span>

    <span class="c1"># Determines whether un-assessed vulnerabilities (e.g. vulnerabilities marked with an orange hourglass symbol) throw a build exception. Un-assessed vulns are those where</span>
    <span class="c1"># the method signature(s) of a bug appear in an archive, however, it is yet unclear whether the methods</span>
    <span class="c1"># exist in the fixed or vulnerable version. Those findings are marked with a question mark in the frontend.</span>
    <span class="c1">#</span>
    <span class="c1"># Possible values:</span>
    <span class="c1">#   all: All un-assessed vulns will be ignored</span>
    <span class="c1">#   known: Only un-assessed vulns in archives known to Maven Central will be ignored</span>
    <span class="c1">#   off: Never ignore</span>
    <span class="c1">#</span>
    <span class="c1"># Default: all</span>
    <span class="na">vulas.report.exceptionExcludeUnassessed</span> <span class="o">=</span> <span class="s">all</span>

    <span class="c1"># Specifies whether a build exception is thrown when vulnerable code is included, potentially</span>
    <span class="c1"># reachable, actually reached or not at all</span>
    <span class="c1"># Possible values: noException &lt; dependsOn &lt; potentiallyExecutes &lt; actuallyExecutes</span>
    <span class="c1">#    noException : no build exception even if vulnerable code is included</span>
    <span class="c1">#    dependsOn : exception raised when vulnerable code is included</span>
    <span class="c1">#    potentiallyExecutes : exception raised when vulnerable code is potentially executed (result of static analyse)</span>
    <span class="c1">#    actuallyExecutes : exception raised when vulnerable code is executed (result of dynamic analyse)</span>
    <span class="c1">#</span>
    <span class="c1"># Default: dependsOn</span>
    <span class="na">vulas.report.exceptionThreshold</span> <span class="o">=</span> <span class="s">dependsOn</span>

    <span class="c1"># Directory to where the reports (JSON, XML, HTML) will be written to</span>
    <span class="c1"># Default:</span>
    <span class="c1">#   CLI: -</span>
    <span class="c1">#   MVN: ${project.build.directory}/vulas/report</span>
    <span class="na">vulas.report.reportDir</span> <span class="o">=</span>
</pre></div>

<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_8" type="radio" id="__tab_8_0" checked="checked" />
<label for="__tab_8_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -Dvulas.core.appContext.group<span class="o">=</span>&lt;GROUP&gt; -Dvulas.core.appContext.artifact<span class="o">=</span>&lt;ARTIFACT&gt; -Dvulas.core.appContext.version<span class="o">=</span><span class="m">3</span>.0.17
     -jar vulas-cli-jar-with-dependencies.jar -goal report
</pre></div></div>
<input name="__tabs_8" type="radio" id="__tab_8_1" />
<label for="__tab_8_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas vulas:report
</pre></div></div>
<input name="__tabs_8" type="radio" id="__tab_8_2" />
<label for="__tab_8_2">Gradle</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>./gradlew vulasReport
</pre></div></div>
</div>
<h4>Exemptions</h4>
<p>The settings <code>vulas.report.exceptionExcludeBugs</code> and <code>vulas.report.exceptionExcludeBugs.&lt;vuln-id&gt;</code> can be used to capture the results of an audit or assessment by developers in regards to whether a vulnerability is problematic in a given application context. Exempted bugs do not result in build exceptions and are also shown in the apps Web frontend.</p>
<h4>Build exceptions</h4>
<p>Other settings to fine-tune the threshold for build exceptions are as follows:</p>
<ul>
<li><code>vulas.report.exceptionScopeBlacklist</code> can be used to exclude certain Maven scopes (default: test)</li>
<li><code>vulas.report.exceptionThreshold</code> can be used to specify whether a build exception is thrown when vulnerable code is included, potentially reachable, actually reached or not at all (values: <code>noException</code>, <code>dependsOn</code>, <code>potentiallyExecutes</code>, <code>actuallyExecutes</code>; default: <code>actuallyExecutes</code>)</li>
</ul>
<h2 id="clean-and-delete-apps-clean">Clean and delete apps (clean)<a class="headerlink" href="#clean-and-delete-apps-clean" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Deletes application-specific data in the backend, e.g., traces collected during JUnit tests, or application constructs and dependencies collected through the <code>app</code> goal. Right after executing <code>clean</code> for a given application, the apps Web frontend will be empty for the respective application.</p>
<h4>Configure as follows</h4>
<div class="codehilite"><pre><span></span>    <span class="c1"># When true, details of past goal executions will be deleted</span>
    <span class="c1"># Default: false</span>
    <span class="na">vulas.core.clean.goalHistory</span> <span class="o">=</span> <span class="s">false</span>

    <span class="c1"># When true, all but the latest X app versions will be deleted (latest according to the application creation date)</span>
    <span class="c1"># Default: false</span>
    <span class="na">vulas.core.clean.purgeVersions</span> <span class="o">=</span> <span class="s">false</span>

    <span class="c1"># Specifies X, i.e., the number of application versions to be kept if purgeVersions is set to true (0 will delete all versions)</span>
    <span class="c1"># Default: 3</span>
    <span class="na">vulas.core.clean.purgeVersions.keepLast</span> <span class="o">=</span> <span class="s">3</span>
</pre></div>

<p>Run as follows to <strong>clean the current version</strong>:</p>
<div class="superfences-tabs">
<input name="__tabs_9" type="radio" id="__tab_9_0" checked="checked" />
<label for="__tab_9_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -jar vulas-cli-jar-with-dependencies.jar -goal clean
</pre></div></div>
<input name="__tabs_9" type="radio" id="__tab_9_1" />
<label for="__tab_9_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas vulas:clean
</pre></div></div>
</div>
<p>Run as follows to <strong>delete an application including all its versions</strong>:</p>
<div class="superfences-tabs">
<input name="__tabs_10" type="radio" id="__tab_10_0" checked="checked" />
<label for="__tab_10_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -Dvulas.core.clean.purgeVersions<span class="o">=</span><span class="nb">true</span> -Dvulas.core.clean.purgeVersions.keepLast<span class="o">=</span><span class="m">0</span> -jar vulas-cli-jar-with-dependencies.jar -goal clean
</pre></div></div>
<input name="__tabs_10" type="radio" id="__tab_10_1" />
<label for="__tab_10_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas -Dvulas.core.clean.purgeVersions<span class="o">=</span><span class="nb">true</span> -Dvulas.core.clean.purgeVersions.keepLast<span class="o">=</span><span class="m">0</span> vulas:clean
</pre></div></div>
</div>
<div class="admonition critical troubleshooting">
<p class="admonition-title">Critical</p>
<p>Maven will fail to delete an application if a corresponding <code>&lt;module&gt;</code> does not exit any longer in the <code>pom.xml</code>. The CLI must be used in these cases and the Maven coordinates (GAV) of the item to be cleaned shall be provided as system properties when calling the CLI. For example, if you want to delete an application with GAV <code>myGroup:myArtifact:myVersion</code>, the following command line should be used</p>
<div class="codehilite"><pre><span></span>java -Dvulas.core.clean.purgeVersions<span class="o">=</span><span class="nb">true</span> -Dvulas.core.clean.purgeVersions.keepLast<span class="o">=</span><span class="m">0</span> -Dvulas.core.appContext.group<span class="o">=</span>myGroup -Dvulas.core.appContext.artifact<span class="o">=</span>myArtifact -Dvulas.core.appContext.version<span class="o">=</span>myVersion -jar vulas-cli-jar-with-dependencies.jar -goal clean
</pre></div>

</div>
<h2 id="clean-workspaces-cleanspace">Clean workspaces (cleanspace)<a class="headerlink" href="#clean-workspaces-cleanspace" title="Permanent link">&para;</a></h2>
<h4>Objective</h4>
<p>Deletes all applications of the given space.</p>
<h4>Run as follows</h4>
<div class="superfences-tabs">
<input name="__tabs_11" type="radio" id="__tab_11_0" checked="checked" />
<label for="__tab_11_0">CLI</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>java -jar vulas-cli-jar-with-dependencies.jar -goal cleanSpace
</pre></div></div>
<input name="__tabs_11" type="radio" id="__tab_11_1" />
<label for="__tab_11_1">Maven</label>
<div class="superfences-content"><div class="codehilite"><pre><span></span>mvn -Dvulas vulas:cleanSpace
</pre></div></div>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
    <div class='custom-scroll-top hidden md-icon'></div>
    
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../setup/" title="Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Configuration
              </span>
            </div>
          </a>
        
        
          <a href="../frontend/" title="Frontend" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Frontend
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2018 SAP SE or an SAP affiliate company. All rights reserved.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/sap/vulnerability-assessment-tool" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
    <script>
        Array.from(document.getElementsByClassName('expandable')).forEach(function(item) {
            lightGallery(item, {
                controls: false,
                counter: false
            })
        })
    </script>

    </div>
    
      <script src="../../../assets/javascripts/application.9e1f3b71.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../js/scrollTop.js"></script>
      
    
    
      
    
  </body>
</html>